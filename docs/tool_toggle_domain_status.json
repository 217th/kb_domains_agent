{
  "name": "tool_toggle_domain_status",
  "description": "SUMMARY: Toggles the state of a specific knowledge domain (Active ↔ Inactive) for a user in Google Firestore.\n\nLOGIC (ЛОГИКА РАБОТЫ):\n1. Validates `user_id` and `domain_id`.\n2. Queries Google Firestore to find the specific domain document.\n3. Checks if the domain exists. If not, returns an error.\n4. Reads the current `status` and inverts it (e.g., if 'active' → sets to 'inactive'; if 'inactive' → sets to 'active').\n5. Persists the new state to Firestore.\n6. Returns both the previous state and the new state for confirmation.\n\nRETURN VALUE (ВОЗВРАЩАЕМОЕ ЗНАЧЕНИЕ):\nReturns a JSON wrapper:\n{\n  \"status\": \"success\",\n  \"data\": {\n    \"domain_id\": \"string\",\n    \"previous_status\": \"active\" | \"inactive\",\n    \"new_status\": \"active\" | \"inactive\"\n  }\n}\n\nERRORS (ВОЗМОЖНЫЕ ОШИБКИ):\n- \"DOMAIN_NOT_FOUND\": The combination of `user_id` and `domain_id` does not exist.\n- \"FIRESTORE_UNAVAILABLE\": Connectivity issue with the database.\n- \"PERMISSION_DENIED\": Agent/User lacks rights to modify this domain.",
  "parameters": {
    "type": "object",
    "properties": {
      "user_id": {
        "type": "string",
        "description": "The unique identifier of the user (must match the ID used in `fetch_user_knowledge_domains`)."
      },
      "domain_id": {
        "type": "string",
        "description": "The specific ID of the knowledge domain to toggle (obtained from the `fetch` tool)."
      }
    },
    "required": [
      "user_id",
      "domain_id"
    ],
    "additionalProperties": false
  }
}